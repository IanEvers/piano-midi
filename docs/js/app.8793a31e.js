(function(e){function t(t){for(var o,i,l=t[0],c=t[1],u=t[2],d=0,f=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);s&&s(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1106:function(e,t,n){},"128a":function(e,t,n){"use strict";n("a88a")},"166a":function(e,t,n){},2037:function(e,t,n){"use strict";n("166a")},"25aa":function(e,t,n){"use strict";n("1106")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=Object(o["e"])("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css",integrity:"sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1),r=Object(o["e"])("div",{class:"titulo"},[Object(o["e"])("h1",{class:"titulo"},"BROKER")],-1),i={class:"contenedor"};function l(e,t,n,l,c,u){var s=Object(o["m"])("PanelColores"),d=Object(o["m"])("Canvas"),f=Object(o["m"])("PanelOpciones");return Object(o["i"])(),Object(o["d"])(o["a"],null,[a,r,Object(o["e"])("div",i,[Object(o["g"])(s),Object(o["g"])(d),Object(o["g"])(f)])],64)}n("d3b7"),n("25f0");var c=function(e){return Object(o["k"])("data-v-50a3e492"),e=e(),Object(o["j"])(),e},u=c((function(){return Object(o["e"])("i",{class:"fas fa-save fa-2x noColor"},null,-1)})),s=[u],d=c((function(){return Object(o["e"])("div",{class:"flex icono",id:"abrirColor"},[Object(o["e"])("i",{class:"fas fa-folder-open fa-2x noColor"})],-1)})),f={class:"flex icono",id:""},p={class:"flex icono eliminarcolor",id:""},b={class:"colores"},v={class:"estilo shadow"},m=c((function(){return Object(o["e"])("i",{class:"fas fa-palette fa-2x noColor color"},null,-1)})),O={class:"columnaColores"},j={key:0};function h(e,t,n,a,r,i){var l=Object(o["m"])("Color");return Object(o["i"])(),Object(o["d"])(o["a"],null,[Object(o["e"])("div",null,[Object(o["e"])("div",{class:"flex icono",id:"guardarColor",onClick:t[0]||(t[0]=function(){return i.guardarColores&&i.guardarColores.apply(i,arguments)})},s),d,Object(o["e"])("div",f,[Object(o["e"])("i",{class:"fas fa-plus fa-2x noColor",id:"agregarColor",onClick:t[1]||(t[1]=function(){return i.agregarColor&&i.agregarColor.apply(i,arguments)})})]),Object(o["e"])("div",p,[Object(o["e"])("i",{class:Object(o["h"])(["fas fa-trash fa-2x noColor",{borde:r.eliminarColores}]),id:"borrarColor",onClick:t[2]||(t[2]=function(){return i.coloresEliminables&&i.coloresEliminables.apply(i,arguments)})},null,2)])]),Object(o["e"])("div",b,[Object(o["e"])("div",v,[m,Object(o["e"])("div",O,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(r.paletas,(function(e,t){return Object(o["i"])(),Object(o["d"])("div",{key:t},[e.activo?(Object(o["i"])(),Object(o["d"])("div",j,[(Object(o["i"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(e.paleta.colores,(function(e,t){return Object(o["i"])(),Object(o["d"])("div",{key:t},[Object(o["g"])(l,{modelValue:e.color,"onUpdate:modelValue":function(t){return e.color=t},colorEliminable:r.eliminarColores,onBorrar:function(e){return i.borrarColor(t)}},null,8,["modelValue","onUpdate:modelValue","colorEliminable","onBorrar"])])})),128))])):Object(o["c"])("",!0)])})),128))])])])],64)}n("e9c4"),n("a434"),n("7db0");var g={key:0,class:"colorEliminable"},y=["value"];function C(e,t,n,a,r,i){return Object(o["i"])(),Object(o["d"])(o["a"],null,[n.colorEliminable?(Object(o["i"])(),Object(o["d"])("button",g,[Object(o["e"])("i",{class:"fas fa-minus-circle fa-lg",onClick:t[0]||(t[0]=function(t){return e.$emit("borrar")})})])):Object(o["c"])("",!0),Object(o["e"])("input",{type:"color",class:"color",value:n.modelValue,onFocusout:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,y)],64)}var k={name:"Color",props:["modelValue","colorEliminable"],emits:["borrar","update:modelValue"]},w=(n("c6e0"),n("6b0d")),S=n.n(w);const x=S()(k,[["render",C],["__scopeId","data-v-69e8c751"]]);var I=x,P={name:"PanelColores",props:{},components:{Color:I},data:function(){return{paletas:[{paleta:M,activo:!0,id:1}],siguienteId:2,eliminarColores:!1}},mounted:function(){if(localStorage.getItem("paletas"))try{this.paletas=JSON.parse(localStorage.getItem("paletas"))}catch(e){localStorage.removeItem("paletas")}},methods:{agregarColor:function(){var e=this.paletaActiva();e.colores.length<7&&e.colores.push({id:e.siguienteId++,color:this.$parent.colorRandom()})},guardarColores:function(){localStorage.paletas=JSON.stringify(this.paletas)},coloresEliminables:function(){this.eliminarColores=!this.eliminarColores},borrarColor:function(e){var t=this.paletaActiva();t.colores.splice(e,1),t.siguienteId--},paletaActiva:function(){return this.paletas.find((function(e){return 1==e.activo})).paleta}}};function E(){return"#"+Math.floor(16777215*Math.random()).toString(16)}var M={nombre:"paletaInicial",colores:[{id:1,color:E()},{id:2,color:E()},{id:3,color:E()}],siguienteId:4};n("128a");const _=S()(P,[["render",h],["__scopeId","data-v-50a3e492"]]);var V=_,A=function(e){return Object(o["k"])("data-v-98cbf2b4"),e=e(),Object(o["j"])(),e},B={class:"canvasContenedor"},D=A((function(){return Object(o["e"])("canvas",{width:"500",height:"500",id:"canvas"},null,-1)})),R=A((function(){return Object(o["e"])("i",{class:"fas fa-play fa-4x"},null,-1)})),W=[R];function z(e,t,n,a,r,i){return Object(o["i"])(),Object(o["d"])("div",B,[D,Object(o["e"])("button",{onClick:t[0]||(t[0]=function(e){return i.play(e.target)})},W)])}n("d81d"),n("b0c0");var F=n("af81"),J=n("c62b"),L=n.n(J),N={name:"Canvas",data:function(){return{midiDevice:null}},mounted:function(){var e=this;this.initializePianoSamples(),L.a.enable((function(){e.availableInputs=L.a.inputs.map((function(e){return e.name})),e.midiDevice=L.a.getInputByName(e.availableInputs[0])}))},methods:{play:function(e){var t=this;e.style.display="none";var n=new Worker("/workers/canvasWorker.js");window.addEventListener("keydown",(function(e){n.postMessage({play:e.keyCode})})),window.addEventListener("keyup",(function(e){n.postMessage({stop:e.keyCode})})),this.midiDevice.addListener("noteon","all",(function(e){var n=e.note;t.noteOn(n)})),this.midiDevice.addListener("noteoff","all",(function(e){var n=e.note;t.noteOff(n)})),n.onmessage=function(e){var t=new Audio(e.data.audio);t.play()}},initializePianoSamples:function(){this.piano=new F["a"]({velocities:2}),this.piano.toDestination(),this.piano.output.gain.value=.5,this.piano.load().then((function(){console.log("loaded!")}))},noteOn:function(e){this.piano.keyDown({midi:e.number})},noteOff:function(e){this.piano.keyUp({midi:e.number})}}};n("2037");const U=S()(N,[["render",z],["__scopeId","data-v-98cbf2b4"]]);var q=U,K=Object(o["e"])("i",{class:"fas fa-expand fa-3x"},null,-1),T=[K],$=Object(o["f"])('<div class="orientacion"><button> horizontal</button><button> vertical</button></div><div class="ajustes"><input type="number" id="velocidad" value="60"><input type="number" id="notaMasBaja" value="37"><input type="number" id="notaMasAlta" value="85"><input type="range" min="0.0" max="1.0" step="0.01"><input type="range" min="1" max="30.0" step="1"></div>',2);function G(e,t,n,a,r,i){return Object(o["i"])(),Object(o["d"])("div",null,[Object(o["e"])("button",{id:"fullScreen",class:"fullScreen shadow",onClick:t[0]||(t[0]=function(){return i.fullScreen&&i.fullScreen.apply(i,arguments)})},T),$])}var Y={name:"PanelOpciones",methods:{fullScreen:function(){var e=document.getElementById("canvas");e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen()}}};n("ba40");const Z=S()(Y,[["render",G]]);var H=Z,Q={name:"App",components:{PanelColores:V,Canvas:q,PanelOpciones:H},data:function(){return{}},mounted:function(){},methods:{colorRandom:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)}}};n("25aa");const X=S()(Q,[["render",l]]);var ee=X;Object(o["b"])(ee).mount("#app")},"5f4e":function(e,t,n){},7764:function(e,t,n){},a88a:function(e,t,n){},ba40:function(e,t,n){"use strict";n("5f4e")},c6e0:function(e,t,n){"use strict";n("7764")}});
//# sourceMappingURL=app.8793a31e.js.map